# Асинхронность в Python — кратко


## Синхронный код и объекты

Синхронный код выполняется **пошагово**, строка за строкой.  
Каждая операция **блокирует** выполнение следующей до завершения.

### Основные объекты синхронного кода

1. **Функции**
   - Определяют последовательность действий.
   - Выполняются полностью до конца, прежде чем программа перейдет к следующей строке.

2. **Переменные**
   - Хранят данные, к которым обращается код.
   - Их значение может меняться по мере выполнения программы.

3. **Циклы (`for`, `while`)**
   - Последовательно обрабатывают элементы.
   - Каждая итерация выполняется полностью до перехода к следующей.

4. **Условные конструкции (`if/else`)**
   - Выбирают ветку выполнения.
   - Блоки кода выполняются один за другим, строго по условию.

5. **Встроенные объекты (например, `print`, `open`)**
   - Выполняются полностью и блокируют последующие действия до завершения.

### Пример

```python
print("Начало")
x = 10 / 2      # операция завершится полностью, прежде чем пойдёт дальше
print("Конец")
```

* В синхронном коде **одна задача выполняется за раз**.
* Если операция занимает много времени (например, запрос к серверу), **всё остальное ждёт** её завершения.
* Это удобно для простых программ, но неэффективно для ботов или сетевых приложений, где важно **обрабатывать множество запросов одновременно**.


## Асинхронный код

Асинхронное программирование - это техника, котораяпозволяет вашей программе запустить потенциально длительную задачу, и по-прежднему иметь возможность реагировать на другие события во время выполнения этой задачи, вместо того, чтобы ждать, пока эта задача завершится

Это особенно важно для Telegram-ботов, потому что бот должен:

* получать сообщения
* отправлять ответы
* работать с API
* работать с базой данных

Одновременно.

Пример:

```python
async def hello():
    print("Привет")
```

---

### Основные объекты асинхронного кода

**async def**
Объявляет асинхронную функцию.

```python
async def main():
    pass
```

---

**await**
Ожидает выполнение асинхронной операции.

```python
await message.answer("Привет")
```

---

**asyncio.run()**
Запускает асинхронную программу.

```python
asyncio.run(main())
```

---

**main()**

Главная функция бота.

```python
async def main():
    await dp.start_polling(bot)
```

Она:

* запускает бота
* подключается к Telegram
* начинает получать сообщения

---

### Синхронные объекты в коде

Некоторые части программы работают синхронно:

**Переменные**

```python
BOT_TOKEN = os.getenv("BOT_TOKEN")
```

**Импорты**

```python
import os
from aiogram import Bot
```

**Создание объектов**

```python
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()
```

Они выполняются один раз при запуске программы.

---


[Асинхронный Python — плейлист](https://www.youtube.com/playlist?list=PLz8SX0iNPyAIHH3xtwrcxI5UWleLB5el_)
